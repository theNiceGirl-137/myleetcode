//ç»™ä½ ä¸€ä¸ªæ•°ç»„ rectangles ï¼Œå…¶ä¸­ rectangles[i] = [xi, yi, ai, bi] è¡¨ç¤ºä¸€ä¸ªåæ ‡è½´å¹³è¡Œçš„çŸ©å½¢ã€‚è¿™ä¸ªçŸ©å½¢çš„å·¦ä¸‹é¡¶ç‚¹æ˜¯
// (xi, yi) ï¼Œå³ä¸Šé¡¶ç‚¹æ˜¯ (ai, bi) ã€‚ 
//
// å¦‚æœæ‰€æœ‰çŸ©å½¢ä¸€èµ·ç²¾ç¡®è¦†ç›–äº†æŸä¸ªçŸ©å½¢åŒºåŸŸï¼Œåˆ™è¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚ 
// 
//
// ç¤ºä¾‹ 1ï¼š 
//
// 
//è¾“å…¥ï¼šrectangles = [[1,1,3,3],[3,1,4,2],[3,2,4,4],[1,3,2,4],[2,3,3,4]]
//è¾“å‡ºï¼štrue
//è§£é‡Šï¼š5 ä¸ªçŸ©å½¢ä¸€èµ·å¯ä»¥ç²¾ç¡®åœ°è¦†ç›–ä¸€ä¸ªçŸ©å½¢åŒºåŸŸã€‚ 
// 
//
// ç¤ºä¾‹ 2ï¼š 
//
// 
//è¾“å…¥ï¼šrectangles = [[1,1,2,3],[1,3,2,4],[3,1,4,2],[3,2,4,4]]
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼šä¸¤ä¸ªçŸ©å½¢ä¹‹é—´æœ‰é—´éš”ï¼Œæ— æ³•è¦†ç›–æˆä¸€ä¸ªçŸ©å½¢ã€‚ 
//
// ç¤ºä¾‹ 3ï¼š 
//
// 
//è¾“å…¥ï¼šrectangles = [[1,1,3,3],[3,1,4,2],[1,3,2,4],[3,2,4,4]]
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼šå›¾å½¢é¡¶ç«¯ç•™æœ‰ç©ºç¼ºï¼Œæ— æ³•è¦†ç›–æˆä¸€ä¸ªçŸ©å½¢ã€‚ 
//
// ç¤ºä¾‹ 4ï¼š 
//
// 
//è¾“å…¥ï¼šrectangles = [[1,1,3,3],[3,1,4,2],[1,3,2,4],[2,2,4,4]]
//è¾“å‡ºï¼šfalse
//è§£é‡Šï¼šå› ä¸ºä¸­é—´æœ‰ç›¸äº¤åŒºåŸŸï¼Œè™½ç„¶å½¢æˆäº†çŸ©å½¢ï¼Œä½†ä¸æ˜¯ç²¾ç¡®è¦†ç›–ã€‚ 
//
// 
//
// æç¤ºï¼š 
//
// 
// 1 <= rectangles.length <= 2 * 10â´ 
// rectangles[i].length == 4 
// -10âµ <= xi, yi, ai, bi <= 10âµ 
// 
// Related Topics æ•°ç»„ æ‰«æçº¿ ğŸ‘ 146 ğŸ‘ 0


package leetcode
//leetcode submit region begin(Prohibit modification and deletion)
func isRectangleCover(rectangles [][]int) bool {
	// å·¦ä¸‹è§’ã€å·¦ä¸Šè§’ã€å³ä¸‹è§’ã€å³ä¸Šè§’çš„é¡¶ç‚¹ä¸€å®šæ˜¯æ‰€æœ‰çŸ©é˜µçš„æœ€å¤–åœˆ
	// å®ƒä»¬çš„é¢ç§¯å’Œä¸€å®šå’Œå®Œç¾çŸ©é˜µçš„é¢ç§¯ç›¸ç­‰
	// ä»»æ„ä¸æ˜¯è¿™å››ä¸ªé¡¶ç‚¹çš„å°çŸ©é˜µçš„ç‚¹ï¼Œä¸€å®šä¼šå‡ºç°ä¸¤æ¬¡æˆ–å››æ¬¡ï¼ˆå¦‚æœå‡ºç°å››æ¬¡ä»¥ä¸Šï¼Œä¸€å®šæœ‰è¶…è¿‡å››ä¸ªçŸ©é˜µä»¥è¿™ä¸ªç‚¹ä¸ºé¡¶ç‚¹ï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰é‡å ï¼›å¦‚æœå‡ºç°å¥‡æ•°æ¬¡ï¼Œé‚£ä¹ˆå¿…ç„¶æ²¡æœ‰è¢«å®Œæ•´è¦†ç›–ï¼‰
	x, y, a, b, s := 10001, 10001, -10001, -10001, 0
	cnts := map[int]int{}
	for _, r := range rectangles {
		x, y, a, b = min(x, r[0]), min(y, r[1]), max(a, r[2]), max(b, r[3])
		s += (r[2] - r[0]) * (r[3] - r[1])
		cnts[point(r[0], r[1])] += 1
		cnts[point(r[0], r[3])] += 1
		cnts[point(r[2], r[1])] += 1
		cnts[point(r[2], r[3])] += 1
	}
	if s != (a-x)*(b-y) {
		return false
	}
	points := map[int]bool{}
	points[point(x, y)] = true
	points[point(x, b)] = true
	points[point(a, y)] = true
	points[point(a, b)] = true
	for p := range points {
		v, err := cnts[p]
		if !err || v > 1 {
			return false
		}
	}
	for p, v := range cnts {
		if !points[p] {
			if v > 4 || v%2 == 1 {
				return false
			}
		}
	}
	return true
}

func point(a, b int) int {
	return 10001 * a + b
}
//leetcode submit region end(Prohibit modification and deletion)
