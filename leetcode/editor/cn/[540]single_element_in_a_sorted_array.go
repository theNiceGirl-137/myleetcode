//ç»™å®šä¸€ä¸ªåªåŒ…å«æ•´æ•°çš„æœ‰åºæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸ªæ•°ã€‚ 
//
// ç¤ºä¾‹ 1: 
//
// 
//è¾“å…¥: [1,1,2,3,3,4,4,8,8]
//è¾“å‡º: 2
// 
//
// ç¤ºä¾‹ 2: 
//
// 
//è¾“å…¥: [3,3,7,7,10,11,11]
//è¾“å‡º: 10
// 
//
// æ³¨æ„: æ‚¨çš„æ–¹æ¡ˆåº”è¯¥åœ¨ O(log n)æ—¶é—´å¤æ‚åº¦å’Œ O(1)ç©ºé—´å¤æ‚åº¦ä¸­è¿è¡Œã€‚ 
// Related Topics äºŒåˆ†æŸ¥æ‰¾ 
// ğŸ‘ 229 ğŸ‘ 0


package leetcode
//leetcode submit region begin(Prohibit modification and deletion)
func singleNonDuplicate(nums []int) int {
	l, r := 0, len(nums)
	for l < r {
		m := (l+r)/2
		// å‡ºç°ç‹¬ç«‹æ•°å­—ä¹‹å‰ï¼Œç›¸ç­‰çš„ä¸¤ä¸ªæ•°ä¸ºå…ˆå¶åå¥‡ï¼Œå‡ºç°ä¹‹åä¸ºå…ˆå¥‡åå¶
		// ä¸‹æ ‡ä¸ºå¥‡æ•°ï¼Œå’Œå·¦å³ä¸¤è¾¹çš„æ•°å¯¹æ¯”
		if m % 2 == 1 {
			// è¯´æ˜ç°åœ¨åœ¨å‡ºç°ç‹¬ç«‹æ•°å­—ä¹‹å‰
			if m > 0 && nums[m] == nums[m-1] {
				l = m + 1
			}
			// è¯´æ˜ç°åœ¨å‡ºç°ç‹¬ç«‹æ•°å­—ä¹‹å
			if m > 0 && m + 1 < len(nums) && nums[m] == nums[m+1] {
				r = m - 1
			}
		} else {
			// ç‹¬ç«‹æ•°å­—ä¸€å®šåœ¨å¶æ•°ä½
			// ä¸‹æ ‡ä¸ºå¶æ•°ï¼Œå’Œå·¦å³ä¸¤è¾¹çš„æ•°å¯¹æ¯”
			// è¯´æ˜ç°åœ¨åœ¨å‡ºç°ç‹¬ç«‹æ•°å­—ä¹‹å‰ï¼Œç›´æ¥ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸é‡å¤æ•°å­—çš„ä½ç½®ä¸Š
			if m + 1 < len(nums) && nums[m] == nums[m+1] {
				l = m + 2
			// è¯´æ˜ç°åœ¨åœ¨å‡ºç°ç‹¬ç«‹æ•°å­—ä¹‹åï¼Œç›´æ¥ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªä¸é‡å¤æ•°å­—çš„ä½ç½®ä¸Š
			} else if m > 0 && nums[m] == nums[m-1] {
				r = m - 2
			} else {
				// å’Œå·¦å³ä¸¤è¾¹éƒ½ä¸ç›¸ç­‰ï¼Œæ‰¾åˆ°ç‹¬ç«‹çš„æ•°
				return nums[m]
			}
		}
	}
	return nums[l]
}
//leetcode submit region end(Prohibit modification and deletion)
